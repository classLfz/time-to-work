(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"149":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var n,r=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),o=a(6),i=_interopRequireDefault(o),u=_interopRequireDefault(a(0)),l=a(31),f=a(32),c=a(165),s=_interopRequireDefault(a(163));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}a(223),t.default=(0,f.connect)(function(e){return{"staff":e.staff}},function(e){return{"onUpdateStaffMap":function onUpdateStaffMap(t){e((0,c.updateStaffMap)(t))}}})(n=function(e){function StaffEdit(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StaffEdit);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(StaffEdit.__proto__||Object.getPrototypeOf(StaffEdit)).call(this,e));return t.config={"navigationBarTitleText":"编辑职员","navigationBarBackgroundColor":"#2196F3","navigationBarTextStyle":"white"},t.submit=function(e){var a=e.detail.value,n=t.props.staff.staffMap,r=JSON.parse(JSON.stringify(n));delete r[t.state.name],r[a.name]={"rest":a.rest,"leave":a.leave},t.props.onUpdateStaffMap(r),i.default.navigateBack({"delta":1})},t.delete=function(){i.default.showModal({"title":"操作不可逆","content":"确定要删除该职员吗？","success":function success(e){if(e.confirm){var a=t.state.name,n=JSON.parse(JSON.stringify(t.props.staff.staffMap));delete n[a],t.props.onUpdateStaffMap(n),i.default.navigateBack({"delta":1})}}})},t.state={"name":"","rest":!1,"leave":!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(StaffEdit,o.Component),r(StaffEdit,[{"key":"componentWillMount","value":function componentWillMount(){this.setState({"name":this.$router.params.name||"","rest":"true"===this.$router.params.rest,"leave":"true"===this.$router.params.leave})}},{"key":"render","value":function render(){var e=this.state.name,t=this.state.rest,a=this.state.leave;return u.default.createElement(l.View,{"className":"form-container"},u.default.createElement(s.default,{"title":"编辑人员信息"}),u.default.createElement(l.Form,{"onSubmit":this.submit},u.default.createElement(l.View,{"className":"form-item"},u.default.createElement(l.Text,{"className":"title"},"姓名"),u.default.createElement(l.Input,{"className":"item-input","name":"name","value":e,"autoFocus":!0})),u.default.createElement(l.View,{"className":"form-item"},u.default.createElement(l.Text,{"className":"title"},"休息"),u.default.createElement(l.Switch,{"name":"rest","checked":t})),u.default.createElement(l.View,{"className":"form-item"},u.default.createElement(l.Text,{"className":"title"},"请假"),u.default.createElement(l.Switch,{"name":"leave","checked":a})),u.default.createElement(l.View,{"className":"form-btns"},u.default.createElement(l.Button,{"type":"warn","className":"form-btn","onClick":this.delete},"删除"),u.default.createElement(l.Button,{"type":"primary","className":"form-btn","formType":"submit"},"提交"))))}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentDidShow","value":function componentDidShow(){}}]),StaffEdit}())||n},"157":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.naturalSort=function naturalSort(e,t){var a,n,r=/(^([+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|^0x[\da-fA-F]+$|\d+)/g,o=/^\s+|\s+$/g,u=/\s+/g,l=/^0x[0-9a-f]+$/i,f=/^0/,c=function i(e){return(naturalSort.insensitive&&(""+e).toLowerCase()||""+e).replace(o,"")},s=c(e),p=c(t),d=s.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=p.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(s.match(l),16)||1!==d.length&&Date.parse(s),v=parseInt(p.match(l),16)||h&&p.match(/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/)&&Date.parse(p)||null,b=function normChunk(e,t){return(!e.match(f)||1==t)&&parseFloat(e)||e.replace(u," ").replace(o,"")||0};if(v){if(h<v)return-1;if(h>v)return 1}for(var _=0,w=d.length,y=m.length,S=Math.max(w,y);_<S;_++){if(a=b(d[_]||"",w),n=b(m[_]||"",y),isNaN(a)!==isNaN(n))return isNaN(a)?1:-1;if(/[^\x00-\x80]/.test(a+n)&&a.localeCompare){var E=a.localeCompare(n);return E/Math.abs(E)}if(a<n)return-1;if(a>n)return 1}},t.formatTime=function formatTime(e){if(!e)return"";var t=new Date(e);if(!t)return"";var a=t.getFullYear(),r=t.getMonth()+1,o=t.getDate(),i=t.getHours(),u=t.getMinutes(),l=t.getSeconds();return[a,r,o].map(n).join("-")+" "+[i,u,l].map(n).join(":")};var n=function formatNumber(e){return(e=e.toString())[1]?e:"0"+e}},"162":function(e,t,a){},"163":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a(6),o=_interopRequireDefault(r),i=_interopRequireDefault(a(0)),u=a(31),l=a(158);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}a(162);var f=function(e){function NavHeader(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavHeader);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NavHeader.__proto__||Object.getPrototypeOf(NavHeader)).call(this,e));return t.back=function(){o.default.navigateBack({"delta":1})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NavHeader,r.Component),n(NavHeader,[{"key":"render","value":function render(){return i.default.createElement(u.View,{"className":"header-container"},i.default.createElement(u.View,null,i.default.createElement(l.AtIcon,{"value":"chevron-left","size":"24","color":"#FFFFFF","onClick":this.back})),i.default.createElement(u.View,{"className":"title"},this.props.title),i.default.createElement(u.View,null," "))}}]),NavHeader}();t.default=f},"165":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.updateStaffMap=void 0;var n=_interopRequireDefault(a(6)),r=(_interopRequireDefault(a(0)),a(157)),o=a(33);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.updateStaffMap=function updateStaffMap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).sort(r.naturalSort).forEach(function(a){t[a]=e[a]}),n.default.setStorageSync("staff",t),{"type":o.UPDATE_STAFF_MAP,"data":t}}},"223":function(e,t,a){}}]);